Construction Monitoring System
=================================================

Система централизованного управления дефектами на строительных объектах.

----------------------------------------
ОПИСАНИЕ
----------------------------------------
Монолитное Django‑веб‑приложение для полного цикла работы с дефектами:
регистрация → назначение → работа исполнителя → проверка → закрытие →
аналитика и экспорт отчётности.

----------------------------------------
ФУНКЦИОНАЛЬНОСТЬ
----------------------------------------

Основные возможности:
- Регистрация пользователей и аутентификация
- Разграничение прав доступа (менеджер, инженер, наблюдатель)
- Управление проектами/объектами и этапами
- Создание, редактирование и просмотр дефектов
- Комментарии, вложенные файлы, история изменений
- Жизненный цикл дефектов: Новая → В работе → На проверке → Закрыта/Отменена
- Поиск, сортировка, фильтры
- Экспорт CSV и Excel
- Просроченные дефекты (SLA-контроль)
- Дашборд с аналитикой

Роли:
- Инженер — создаёт и обновляет дефекты
- Менеджер — назначает исполнителей, контролирует выполнение, создаёт отчёты
- Руководитель — просматривает общую статистику и загрузку проектов

----------------------------------------
ТЕХНОЛОГИЧЕСКИЙ СТЕК
----------------------------------------
Backend:
- Python 3.12–3.13
- Django 5.2.x
- SQLite/PostgreSQL
- Django ORM
- openpyxl (экспорт Excel)
- Django messages framework
- Статика и шаблоны Django

Frontend:
- HTML5, CSS3, JS
- Django Templates
- Минимальный custom CSS (Tailwind-подобный стиль)
- AJAX/Fetch (опционально)

----------------------------------------
УСТАНОВКА И ЗАПУСК
----------------------------------------

1. Клонируйте проект:
   ```
   git clone <your-repository>
   cd Microserv_1 

2. Создайте виртуальное окружение:
   ```
   python3 -m venv .venv
   source .venv/bin/activate 

3. Установите зависимости:
   ```
   pip install -r requirements.txt

4. Выполните миграции:
   ```
   python manage.py migrate

5. Создайте суперпользователя:
   ```
   python manage.py createsuperuser

6. Запустите сервер:
   ```
   python manage.py runserver

Приложение будет доступно по адресу:
`http://localhost:8000/`

----------------------------------------
ОСНОВНЫЕ URL‑РАЗДЕЛЫ
----------------------------------------
/accounts/login/ — вход  
/accounts/logout/ — выход (POST)  
/projects/ — управление проектами  
/defects/ — список дефектов  
/defects/create/ — создать дефект  
/defects/<id>/ — карточка дефекта  
/defects/export_csv — экспорт CSV  
/defects/export_excel — экспорт Excel  
/ — дашборд

----------------------------------------
API-ЛОГИКА (WEB-ВЗАИМОДЕЙСТВИЕ)
----------------------------------------
Приложение использует Django views (не DRF), основные операции:

- GET /defects/ — список с фильтрами
- POST /defects/create/ — создать дефект
- POST /defects/<id>/comment — добавить комментарий
- POST /defects/<id>/attach — прикрепить файл
- POST /defects/<id>/status — смена статуса
- GET /defects/export_* — экспорт данных

----------------------------------------
ТЕСТИРОВАНИЕ
----------------------------------------

Запуск тестов:
```
python manage.py test
```

Минимально реализовано:
- Unit‑тесты моделей
- Тесты вьюх
- Тестирование URL‑ов

----------------------------------------
БЕЗОПАСНОСТЬ
----------------------------------------
- Хеширование паролей — Django PBKDF2
- CSRF защита
- Ограничение доступа по ролям
- Валидация полей форм
- Защита от подмены статусов дефектов
- Ограничение доступа к вложениям

----------------------------------------
РАЗВЕРТЫВАНИЕ В ПРОДАКШЕН
----------------------------------------
Рекомендуется:
- PostgreSQL
- Nginx + Gunicorn
- HTTPS (Let's Encrypt)
- Автоматические бэкапы БД
- Логирование в файл (logging)

----------------------------------------
КОНТАКТЫ
----------------------------------------
По вопросам проекта — t.me/Limon4egtop
